/**
 * ì†Œìˆ˜ì°¾ê¸° Lv2
 * https://school.programmers.co.kr/learn/courses/30/lessons/42839
 * ë¬¸ì œí•´ì„ : 1 <= n <= 7
 * ì†Œìˆ˜ : 1ë³´ë‹¤ í° ìì—°ìˆ˜ ì¤‘ ìê¸°ìì‹ ë§Œì„ ì•½ìˆ˜ë¡œ ê°€ì§€ëŠ” ê²½ìš°ì˜ ìˆ˜ ë¦¬í„´ (isPrime :(2 ~ n**(1/2)+1) n % i === 0 ? false)
 * ê¹Šì´ìš°ì„ íƒìƒ‰ -> ìŠ¤íƒ/ì¬ê·€ë¡œ DFSêµ¬í˜„
 * (1) ëª¨ë“  ìˆ«ìì¡°í•©ì„ ì¬ê·€í•¨ìˆ˜ë¡œ ìƒì„± (ë§¤ê°œë³€ìˆ˜ ì–´ë–¤ê±¸ ë„£ì–´ì¤˜ì•¼ í• ì§€ ì˜ ìƒê°í•´ì•¼ë¨ğŸ˜­), Setìœ¼ë¡œ ì¤‘ë³µ ì œê±°
 * (2) ì†Œìˆ˜ì˜ ê°¯ìˆ˜ë§Œ count - ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ (ê·¸ ìˆ«ìì˜ ë£¨íŠ¸ ì”Œìš´ ê°’ê¹Œì§€ë§Œ í™•ì¸í•˜ë©´ ëœë‹¤)
 *
 * í•´ê²°ê³¼ì •
 * (1) ì£¼ì–´ì§„ ê°ê°ì˜ ìˆ«ìë¥¼ ì´ìš©í•´ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìˆ«ì ì¡°í•©ì„ ìƒì„±í•©ë‹ˆë‹¤. ex(1, 7, 17, 71)
 *  (1-1) ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ Setê°ì²´ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.
 *  (1-2) ì¬ê·€í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìˆ«ì ì¡°í•©ì„ ë§Œë“­ë‹ˆë‹¤.
 *    (1-2-1) ë§¤ê°œë³€ìˆ˜ë¡œ '', numbers String ì „ë‹¬í•˜ë©´ì„œ combination í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
 *    (1-2-2) ì²« ë§¤ê°œë³€ìˆ˜ ''ì¼ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ,
 *    (1-2-3) ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ ë¬¸ìì—´ì—ì„œ ië²ˆì§¸ stringì„ other.charAt(i)ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ ië²ˆì§¸ ë¬¸ìì—´ë§Œ ë¶™ì—¬ ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ì—¬ Setê°ì²´ì— ë„£ìŠµë‹ˆë‹¤.
 *    (1-2-4) ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ë„£ì€ ië²ˆì§¸ string ê°’ì„ ì œì™¸í•œ ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´ì„œ ì¡°í•©ì„ ìƒì„±í•©ë‹ˆë‹¤.
 *
 * (2) ìˆ«ì ì¡°í•©ì—ì„œ ì†Œìˆ˜ì˜ ê°¯ìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ ì†Œìˆ˜ íŒë³„ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
 *  (2-1) 1ë³´ë‹¤ í° ìì—°ìˆ˜ ì¤‘ ìê¸° ìì‹ ë§Œì„ ì•½ìˆ˜ë¥¼ í•˜ëŠ” ìˆ˜ì¸ ì†Œìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ (0, 1ì„ ì œì™¸ì‹œí‚¤ê³ )
 *  (2-2) ì†Œìˆ˜ê°€ ì•„ë‹ ê²½ìš° ê·¸ ìˆ˜ì˜ ì œê³±ê·¼ ì´ì „ì— ì•½ìˆ˜ê°€ ì¡´ì¬í•¨ì„ ì´ìš©í•´ forë¬¸ì˜ ì¡°ê±´ì„ i = 2 ~ Math.sqrt(n) + 1 ë¡œ ë‘ê³ 
 *  (2-3) ì–´ë– í•œ ië¡œ ë‚˜ëˆ ì§€ëŠ” ê²½ìš° false, ë‚˜ëˆ ì§€ëŠ” iê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ì†Œìˆ˜ trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
 * (3) ì¤‘ë³µì´ ì—†ëŠ” ìˆ«ì ì¡°í•© ê°ì²´ë¥¼ spread syntaxë¥¼ ì´ìš©í•´ ìˆœíšŒí•˜ë©´ì„œ ì†Œìˆ˜ë¥¼ íŒë³„í•˜ê³ , ì†Œìˆ˜ì¼ ê²½ìš° count ++ ì¦ê°€ì‹œì¼œ ì†Œìˆ˜ì˜ ê°¯ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
 *
 * ì‹œê°„ë³µì¡ë„ :
 * ê³µê°„ë³µì¡ë„ :
 *
 * @param {*} numbers
 * @returns
 */
const solution = (numbers) => {
  let numberSet = new Set();

  const combination = (comb, others) => {
    //í•¨ìˆ˜ í˜¸ì¶œì— ì‚¬ìš©í•œ ''ë¥¼ ì œì™¸í•œ comb(ì²«ë²ˆì§¸ ì¸ì)ë¥¼ numberSetê°ì²´ì— ë„£ìŠµë‹ˆë‹¤.(ì¤‘ë³µ ìë™ ì œê±°)
    if(comb !== '') {
      numberSet.add(Number(comb));
    }
    for(let i = 0; i < others.length; i ++) {
      //ì¬ê·€í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë§¤ê°œë³€ìˆ˜ë¥¼ ê³„ì†í•´ì„œ ë³€ê²½í•˜ë©´ì„œ ìˆ«ì ì¡°í•©ì„ ì°¾ìŠµë‹ˆë‹¤.
      //ì²«ë²ˆì§¸ ì¸ì : numberSet ê°ì²´ ì— ë„£ì€ ì²«ë²ˆì§¸ ì¸ìì— + ë‘ë²ˆì§¸ ì¸ìì—ì„œ ê°€ì ¸ì˜¨ ië²ˆì§¸ ë¬¸ìì—´ í•˜ë‚˜ë¥¼ ë¶™ì¸ ê°’
      //ë‘ë²ˆì§¸ ì¸ì : ië²ˆì§¸ ë¬¸ìì—´ í•˜ë‚˜ë§Œ ì œì™¸í•œ ë¬¸ìì—´ (others.substring(0,i) : 0 ~ iì´ì „ì˜ ë¬¸ìì—´, others.substring(i+1) : i ë‹¤ìŒ ì¸ë±ìŠ¤ë¶€í„°ì˜ ë¬¸ìì—´)
      combination(comb + others.charAt(i), others.substring(0, i) + others.substring(i + 1));
    }
  }

  //combination ì¬ê·€í•¨ìˆ˜ í˜¸ì¶œ ('', numbersString)ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
  combination('', numbers);

  //ì†Œìˆ˜ íŒë³„ í•¨ìˆ˜ì…ë‹ˆë‹¤.
  const isPrime = (n) => {
    //1ë³´ë‹¤ í° ìì—°ìˆ˜ì¸ nì˜ ì¡°ê±´ì„ ìœ„í•´ 0, 1ì¼ ë•Œ falseë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    if(n === 0 || n === 1 ) return false;

    //2ë¶€í„° nì˜ ì œê³±ê·¼ ê¹Œì§€ ìˆœíšŒí•˜ë©´ì„œ ë‚˜ëˆ„ì–´ì§€ëŠ” ê²½ìš° falseë¥¼ ë°˜í™˜í•˜ê³ , ë‚˜ëˆ„ì–´ì§€ëŠ” ê°’ì´ ì—†ëŠ” ê²½ìš° trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    //ex. 143 ì˜ ë£¨íŠ¸ = 11.958260743101398 ê¹Œì§€ë§Œ ìˆœíšŒí•˜ë©´ ë‚˜ëˆ„ì–´ì§€ëŠ” ê°’ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(1, 11, 13, 143)
    for(let i = 2; i < Math.sqrt(n) + 1; i ++) {
      if(n % i === 0) return false;
    }
    return true;
  }

  //ì†Œìˆ˜ ê°¯ìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•œ ë³€ìˆ˜ count
  let count = 0;
  //numbers ì¡°í•© ê°ì²´ë¥¼ spread syntaxë¥¼ ì´ìš©í•´ ìˆœíšŒí•˜ë©´ì„œ ì†Œìˆ˜íŒë³„í•¨ìˆ˜ë¥¼ ì´ìš©í•´ trueì¼ ê²½ìš° ì†Œìˆ˜ ê°¯ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
  [...numberSet].forEach((n) => {
    if(isPrime(n)) count ++;
  });
  return count;
}

// const numbers = "17" //3
// const numbers = "011"; //2
const numbers = "143"; //6
// console.log(Math.sqrt(143));
console.log(solution(numbers));